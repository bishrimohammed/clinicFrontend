import{j as e}from"./index-adc5c439.js";import{o as de}from"./yup-e734d6e3.js";import{u as ne}from"./index.esm-28bdf91a.js";import{T as K}from"./TextInput-568ed4bc.js";import{u as me}from"./useGetWoredas-79e3b962.js";import{u as te,a as ce,b as oe,c as he,E as xe}from"./useAddEmployee-96111c9e.js";import{C as r}from"./Col-cdbc53ce.js";import{F as s}from"./Form-fd32e757.js";import{C as pe,b as je}from"./InputGroupContext-86e132d6.js";import{R as x}from"./Row-191556ab.js";import"./useQuery-0c7d53ac.js";import"./axiosInstance-8e812653.js";import"./useMutation-46d3959e.js";import"./ElementChildren-abb33785.js";const De=()=>{var u,y,N,_,g,f,v,E,S,C,G,L,I,D,F,W,A,w,O,R,k,H,M,P,T,V,Y,B,J,q,z;const{data:c}=me(),{data:n}=te(),{data:o}=ce(),{data:h}=oe(),{mutate:Q}=he(),{register:i,formState:{errors:a},handleSubmit:U,watch:m}=ne({resolver:de(xe)}),X=l=>{console.log(l.Emergency);const d=new FormData;d.append("firstName",l.firstName),d.append("middleName",l.middleName),d.append("lastName",l.lastName),d.append("gender",l.gender),d.append("date_of_birth",l.date_of_birth),d.append("date_of_hire",l.date_of_hire),d.append("position",l.position),d.append("photo",l.photo[0]),d.append("address",JSON.stringify(l.address)),d.append("Emergency",JSON.stringify(l.Emergency)),Q(d)},Z=l=>{const d=new Date().toISOString().substring(0,10),t=new Date(d);return t.setFullYear(t.getFullYear()-l),t.toISOString().substring(0,10)},$=m("Emergency.the_same_address_as_employee"),ee=m("Emergency.relation"),se=m("address.region_id"),p=m("address.city_id"),b=m("address.subcity_id"),le=m("address.woreda_id"),ae=m("Emergency.region_id"),re=m("Emergency.city_id"),ie=m("Emergency.subcity_id");let j;return $?j=e.jsxs(e.Fragment,{children:[e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Phone"}),e.jsx(s.Control,{type:"number",disabled:!0,placeholder:"09/07********",...i("address.phone_1")})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Email"}),e.jsx(s.Control,{type:"email",disabled:!0,...i("address.email",{})}),e.jsx(s.Control.Feedback,{type:"inValid",className:"small text-danger",children:(y=(u=a==null?void 0:a.address)==null?void 0:u.email)==null?void 0:y.message})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Region"}),e.jsxs(s.Select,{disabled:!0,...i("address.region_id"),"aria-label":"Default select example",children:[e.jsx("option",{value:"",children:"please select"}),n==null?void 0:n.map((l,d)=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"City"}),e.jsx(s.Control,{disabled:!0,"aria-label":"Default select example",value:(N=o.filter(l=>l.id==p)[0])==null?void 0:N.name})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"SubCity"}),e.jsx(s.Control,{disabled:!0,name:"role","aria-label":"Default select example",value:(_=h.filter(l=>l.id==b)[0])==null?void 0:_.Subcity_name})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Woreda"}),e.jsx(s.Control,{disabled:!0,...i("address.woreda_id"),value:(g=c.filter(l=>l.id==le)[0])==null?void 0:g.Subcity_name})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"House Number"}),e.jsx(s.Control,{type:"number",disabled:!0,...i("address.house_number"),isInvalid:(f=a.address)==null?void 0:f.house_number})]})})]}):j=e.jsxs(e.Fragment,{children:[e.jsxs(r,{md:4,sm:12,className:"mb-2",children:[e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Phone"}),e.jsx(s.Control,{type:"number",placeholder:"09/07********",...i("Emergency.phone_1"),isInvalid:(v=a.Emergency)==null?void 0:v.phone_1})]}),e.jsx(s.Control.Feedback,{type:"inValid",className:"small text-danger",children:(S=(E=a==null?void 0:a.Emergency)==null?void 0:E.phone_1)==null?void 0:S.message})]}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Region"}),e.jsxs(s.Select,{...i("Emergency.region_id"),isInvalid:(C=a.Emergency)==null?void 0:C.region_id,"aria-label":"Default select example",children:[e.jsx("option",{value:"",children:"please select"}),n==null?void 0:n.map((l,d)=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"City"}),e.jsxs(s.Select,{...i("Emergency.city_id"),"aria-label":"Default select example",isInvalid:(G=a.Emergency)==null?void 0:G.city_id,children:[e.jsx("option",{value:"",children:"please select"}),o==null?void 0:o.filter(l=>l.region_id==ae).map((l,d)=>e.jsx("option",{value:l.id,children:l.name},l.name))]})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"SubCity"}),e.jsxs(s.Select,{...i("Emergency.subcity_id"),"aria-label":"Default select example",isInvalid:(L=a.Emergency)==null?void 0:L.subcity_id,children:[e.jsx("option",{value:"",children:"please select"}),h==null?void 0:h.filter(l=>p?l.city_id==re:l).map((l,d)=>e.jsx("option",{value:l.id,children:l.Subcity_name},l.Subcity_name+l.id))]})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Woreda"}),e.jsxs(s.Select,{...i("Emergency.woreda_id"),isInvalid:(I=a.Emergency)==null?void 0:I.woreda_id,children:[e.jsx("option",{value:"",children:"please select"}),(D=c==null?void 0:c.filter(l=>l.subCity_id==ie))==null?void 0:D.map((l,d)=>{var t;return e.jsxs("option",{value:l.id,children:[l.name," ",(t=l.SubCity)==null?void 0:t.Subcity_name]},d)})]})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"House Number"}),e.jsx(s.Control,{type:"number",...i("Emergency.house_number"),isInvalid:(F=a.Emergency)==null?void 0:F.house_number})]})})]}),e.jsxs(pe,{className:"p-2 px-3",children:[e.jsx("h4",{className:"mb-3 p-2",children:"Add Employee"}),e.jsxs(s,{onSubmit:U(X),encType:"multipart/form-data",children:[e.jsxs(x,{children:[e.jsx(r,{md:4,sm:12,children:e.jsx(K,{errors:a.firstName,name:"firstName",register:i,label:"first name"})}),e.jsx(r,{md:4,sm:12,children:e.jsx(K,{errors:a.middleName,name:"middleName",register:i,label:"middle name"})}),e.jsx(r,{md:4,sm:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"last name"}),e.jsx(s.Control,{...i("lastName"),name:"lastName",id:"lastName",type:"text",placeholder:"Enter..."})]})})]}),e.jsxs(x,{children:[e.jsx(r,{md:4,sm:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Gender"}),e.jsxs(s.Select,{...i("gender"),name:"gender","aria-label":"Default select example",isInvalid:a.gender,children:[e.jsx("option",{value:"",children:"please select"}),e.jsx("option",{value:"male",children:"male"}),e.jsx("option",{value:"female",children:"female"})]})]})}),e.jsx(r,{md:4,sm:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"photo"}),e.jsx(s.Control,{...i("photo"),type:"file",name:"photo",placeholder:"Enter..."})]})}),e.jsx(r,{md:4,sm:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Birth Date"}),e.jsx(s.Control,{type:"date",...i("date_of_birth"),max:Z(18),isInvalid:a.date_of_birth})]})}),e.jsx(r,{md:4,sm:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Date of Hire"}),e.jsx(s.Control,{type:"date",...i("date_of_hire"),max:new Date().toISOString().substring(0,10),isInvalid:a.date_of_hire})]})}),e.jsx(r,{md:4,sm:12,children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Position"}),e.jsxs(s.Select,{...i("position"),name:"position","aria-label":"Default select example",isInvalid:a.position,children:[e.jsx("option",{value:"",children:"please select"}),e.jsx("option",{value:"Doctor",children:"Doctor"}),e.jsx("option",{value:"Cashier",children:"Cashier"}),e.jsx("option",{value:"Nurse",children:"Nurse"}),e.jsx("option",{value:"Other",children:"Other"})]})]})}),e.jsx(r,{})]}),e.jsx("h6",{className:"border-bottom border-1 border-black py-2 mb-3 fw-bold",children:"Home Address Information"}),e.jsxs(x,{children:[e.jsxs(r,{md:4,sm:12,className:"mb-2",children:[e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Phone"}),e.jsx(s.Control,{type:"number",placeholder:"09/07********",...i("address.phone_1"),isInvalid:(W=a.address)==null?void 0:W.phone_1})]}),e.jsx(s.Control.Feedback,{type:"inValid",className:"small text-danger",children:(w=(A=a==null?void 0:a.address)==null?void 0:A.phone_1)==null?void 0:w.message})]}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Email"}),e.jsx(s.Control,{type:"email",...i("address.email"),placeholder:"example@example.com",isInvalid:(O=a.address)==null?void 0:O.email}),e.jsx(s.Control.Feedback,{type:"inValid",className:"small text-danger",children:(k=(R=a==null?void 0:a.address)==null?void 0:R.email)==null?void 0:k.message})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Region"}),e.jsxs(s.Select,{...i("address.region_id"),"aria-label":"Default select example",isInvalid:(H=a.address)==null?void 0:H.region_id,children:[e.jsx("option",{value:"",children:"please select"}),n==null?void 0:n.map((l,d)=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"City"}),e.jsxs(s.Select,{...i("address.city_id"),"aria-label":"Default select example",isInvalid:(M=a.address)==null?void 0:M.city_id,children:[e.jsx("option",{value:"",children:"please select"}),o==null?void 0:o.filter(l=>l.region_id==se).map((l,d)=>e.jsx("option",{value:l.id,children:l.name},l.name))]})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"SubCity"}),e.jsxs(s.Select,{...i("address.subcity_id"),"aria-label":"Default select example",isInvalid:(P=a.address)==null?void 0:P.subcity_id,children:[e.jsx("option",{value:"",children:"please select"}),h==null?void 0:h.filter(l=>l.city_id==p).map((l,d)=>e.jsx("option",{value:l.id,children:l.Subcity_name},l.Subcity_name+l.id))]})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Woreda"}),e.jsxs(s.Select,{...i("address.woreda_id"),isInvalid:(T=a.address)==null?void 0:T.woreda_id,children:[e.jsx("option",{value:"",children:"Select Woreda"}),(V=c==null?void 0:c.filter(l=>l.subCity_id==b))==null?void 0:V.map((l,d)=>{var t;return e.jsxs("option",{value:l.id,children:[l.name," ",(t=l.SubCity)==null?void 0:t.Subcity_name]},d)})]})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"House Number"}),e.jsx(s.Control,{type:"number",...i("address.house_number"),isInvalid:(Y=a.address)==null?void 0:Y.house_number})]})})]}),e.jsx("h6",{className:"border-bottom border-1 border-black py-2 mb-3 fw-bold",children:"Emergency Contact Information"}),e.jsxs(x,{children:[e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"First Name"}),e.jsx(s.Control,{type:"text",...i("Emergency.firstName"),isInvalid:(B=a.Emergency)==null?void 0:B.firstName})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Middle Name"}),e.jsx(s.Control,{type:"text",...i("Emergency.middleName"),isInvalid:(J=a.Emergency)==null?void 0:J.middleName})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Last Name"}),e.jsx(s.Control,{type:"text",...i("Emergency.lastName"),isInvalid:(q=a.Emergency)==null?void 0:q.lastName})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Relation Ship"}),e.jsxs(s.Select,{...i("Emergency.relation"),"aria-label":"Default select example",children:[e.jsx("option",{value:"Father",children:"Father"}),e.jsx("option",{value:"Mother",children:"Mother"}),e.jsx("option",{value:"Spouse",children:"Spouse"}),e.jsx("option",{value:"Other",children:"Other"})]})]})}),ee==="Other"&&e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{className:"mb-3",children:[e.jsx(s.Label,{children:"Relation Ship Type"}),e.jsx(s.Control,{...i("Emergency.other_relation"),"aria-label":"Default select example",isInvalid:(z=a.Emergency)==null?void 0:z.other_relation})]})}),e.jsx(r,{md:4,sm:12,className:"mb-2",children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Same Address as Employee"}),e.jsx(s.Check,{type:"checkbox",...i("Emergency.the_same_address_as_employee")})]})}),j]}),e.jsx("hr",{}),e.jsx("div",{className:"d-flex justifyContentEnd",children:e.jsx(r,{children:e.jsxs(je,{variant:"primary",className:"w-100",type:"submit",children:[e.jsx("span",{className:"fw-bold",children:"+"})," Add Employee"]})})})]})]})};export{De as default};
