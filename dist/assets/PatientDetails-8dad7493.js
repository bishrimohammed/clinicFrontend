import{R as N,j as e,r as h,L as f,m as b}from"./index-adc5c439.js";import{u}from"./useQuery-0c7d53ac.js";import{A as y}from"./axiosInstance-8e812653.js";import{R as m}from"./Row-191556ab.js";import{C as a}from"./Col-cdbc53ce.js";import{h as x}from"./moment-fbc5633a.js";import{A as g,u as w,a as d}from"./Accordion-cd1b63b6.js";import{C as n}from"./Card-b4b075fa.js";import{S as C}from"./index.esm-650f3687.js";import{C as K}from"./InputGroupContext-86e132d6.js";import{T as A,a as t}from"./Tabs-162d704d.js";import"./DefaultLayout-65fbaa93.js";import"./index.es-ffb0b0ea.js";import"./NoopTransition-52f737ac.js";import"./CardHeaderContext-3f12a520.js";import"./divWithClassName-747f8fd3.js";import"./Nav-d46f6c14.js";import"./ElementChildren-abb33785.js";function T(s){return u({queryKey:["patient overviewdata",s],queryFn:async()=>y.get(`/patient/${s}/overviewdata`).then(i=>i.data),staleTime:30*60*1e3})}const Y=({patient:s})=>e.jsxs("div",{style:{borderRadius:15,borderTop:"2px solid rgb(50, 31, 219)"},className:"bg-white h-100 px-3 py-3 ",children:[e.jsx("div",{className:"bg-white text-center d-flex flex-column align-items-center justify-content-center"}),e.jsxs(m,{className:"mb-1",children:[e.jsx(a,{children:e.jsxs("div",{className:"d-flex  align-items-center",children:[e.jsx("h6",{className:"mb-0",children:"Name : "}),e.jsx("p",{className:"mb-0 ms-2",children:s.name})]})}),e.jsx(a,{children:e.jsxs("div",{className:"d-flex  align-items-center",children:[e.jsx("h6",{className:"mb-0",children:"Phone: "}),e.jsx("p",{className:"mb-0 ms-2",children:s.phone})]})}),e.jsx(a,{children:e.jsxs("div",{className:"d-flex  align-items-center",children:[e.jsx("h6",{className:"mb-0",children:"Card Number : "}),e.jsx("p",{className:"mb-0  ms-2",children:s.cardNumber})]})})]}),e.jsxs(m,{className:"mb-1",children:[e.jsx(a,{children:e.jsxs("div",{className:"d-flex  align-items-center",children:[e.jsx("h6",{className:"mb-0",children:"Status : "}),e.jsx("span",{className:"ms-1",children:s.status?" Active":" inActive"})]})}),e.jsx(a,{children:e.jsxs("div",{className:"d-flex  align-items-center",children:[e.jsx("h6",{className:"mb-0",children:"Age : "}),e.jsx("p",{className:"mb-0 ms-2",children:s.age})]})}),e.jsx(a,{children:e.jsxs("div",{className:"d-flex  align-items-center",children:[e.jsx("h6",{className:"mb-0",children:"Gender : "}),e.jsx("span",{className:"ms-1",children:s.gender})]})})]}),e.jsx(m,{className:"mb-1"})]}),H=N.memo(Y),P="rgba(241, 190, 198, 0.6)",S="rgb(207, 226, 255",j=({children:s,eventKey:i,callback:r})=>{const{activeEventKey:l}=h.useContext(g),c=w(i,()=>r&&r(i));console.log(" ContextAwareToggle re ");const o=l===i;return e.jsx("div",{className:"p-2 curserpointer",style:{backgroundColor:o?P:S},onClick:c,children:s})},D=({historys:s})=>e.jsx(d,{defaultActiveKey:"0",children:s.map((i,r)=>e.jsxs(n,{className:"mb-2",children:[e.jsx(n.Header,{children:e.jsx(j,{eventKey:r,children:e.jsxs("div",{className:"d-flex justify-content-between",children:[x(i.createdAt).format("MM/DD/YYYY")," ",e.jsx(f,{to:`/patients/history/${i._id}`,className:"me-2",children:"view detail"})]})})}),e.jsx(d.Collapse,{eventKey:r,children:e.jsxs(n.Body,{className:"px-4",children:[e.jsxs(m,{className:"mb-0",children:[e.jsx(a,{xs:3,children:e.jsx("span",{children:"Chief complaint"})}),e.jsx(a,{xs:1,className:"d-flex justify-content-center",children:e.jsx("span",{className:"fw-bold",children:":"})}),e.jsx(a,{children:i==null?void 0:i.chiefcomplaint})]}),e.jsx("hr",{}),e.jsxs(m,{children:[e.jsx(a,{xs:3,children:e.jsx("span",{className:"text-nowrap",children:"History of Present Illness"})}),e.jsx(a,{xs:1,className:"d-flex justify-content-center",children:e.jsx("span",{className:"fw-bold",children:":"})}),e.jsx(a,{className:"ps-0",children:i==null?void 0:i.HPI}),e.jsx(a,{xs:1})]})]})})]},i._id))}),E=({laboratorys:s})=>e.jsx("div",{children:e.jsx(d,{defaultActiveKey:"0",children:s.map((i,r)=>e.jsxs(n,{className:"mb-2",children:[e.jsx(n.Header,{children:e.jsx(j,{eventKey:r,children:x(i.orderTime).format("MM/DD/YYYY")})}),e.jsx(d.Collapse,{eventKey:r,children:e.jsx(n.Body,{className:"px-sm-4 px-1",children:e.jsxs("div",{className:"d-flex mb-0",children:[e.jsx("div",{className:"",children:e.jsx("span",{children:"Tests : "})}),e.jsx("div",{className:"ps-0",children:e.jsx("ol",{children:i.investigations.map((l,c)=>e.jsx("li",{children:l.test_name},c))})})]})})})]},i._id))})}),k=({imagings:s})=>e.jsx("div",{children:e.jsx(d,{defaultActiveKey:"0",children:s.map((i,r)=>e.jsxs(n,{className:"mb-2",children:[e.jsx(n.Header,{children:e.jsx(j,{eventKey:r,children:x(i.orderTime).format("MM/DD/YYYY")})}),e.jsx(d.Collapse,{eventKey:r,children:e.jsx(n.Body,{className:"px-sm-4 px-1",children:e.jsxs("div",{className:"d-flex mb-0",children:[e.jsx("div",{children:e.jsx("span",{children:"Tests : "})}),e.jsx("div",{className:"ps-0",children:e.jsx("ol",{children:i.investigations.map((l,c)=>e.jsx("li",{children:l},c))})})]})})})]},i._id))})}),Z=()=>{const[s,i]=h.useState("active"),{id:r}=b(),{data:l,error:c,isPending:o,isError:v}=T(r);return o?e.jsx(C,{animation:"grow"}):v?e.jsxs("div",{children:["error ",c.message]}):e.jsx(e.Fragment,{children:e.jsxs(K,{className:"p-2",children:[" ",e.jsx("div",{className:"py-3 px-1 bg-hrun-box hrunboxshadow",children:e.jsxs("div",{style:{gap:5},className:"d-flex flex-column",children:[e.jsx(H,{patient:l==null?void 0:l.patient}),e.jsx("div",{style:{borderTop:"2px solid rgb(50, 31, 219)",backgroundColor:"white"},className:"flex-grow-1 px-3 py-3 ",children:e.jsxs(A,{id:"controlled-tab-example",activeKey:s,onSelect:p=>i(p),className:"mb-3 border-bottom border-bottom-1 border-2",variant:"underline",fill:!0,children:[e.jsx(t,{eventKey:"active",title:"History and Examinations",children:s==="active"&&e.jsx(D,{historys:l.historyoverview})}),e.jsx(t,{eventKey:"vital",title:"Vitals",children:s==="vital"&&e.jsx("div",{children:"vital"})}),e.jsx(t,{eventKey:"lab",title:"Laboratory",children:s==="lab"&&e.jsx(E,{laboratorys:l.laboverview})}),e.jsx(t,{eventKey:"image",title:"Imaging",children:s==="image"&&e.jsx(k,{imagings:l.imagingoverview})}),e.jsx(t,{eventKey:"family",title:"Family History",children:s==="family"&&e.jsx("div",{children:"family History"})}),e.jsx(t,{eventKey:"social",title:"Social History",children:s==="social"&&e.jsx("div",{children:"Social History"})})]})})]})})]})})};export{Z as default};
