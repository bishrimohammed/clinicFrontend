import{P as fe,c as E,a as B,d as qe}from"./InputGroupContext-86e132d6.js";import{c as ee,o as ve,d as Je,u as ye,b as Se,e as y,f as we,g as Qe,h as Ze,l as be,i as Ce,q as j,j as Pe,r as Ne,k as et}from"./DefaultLayout-65fbaa93.js";import{r as a,j as l,i as tt}from"./index-adc5c439.js";import{s as H,N as nt,F as Be,t as ot}from"./NoopTransition-52f737ac.js";import{d as st}from"./divWithClassName-747f8fd3.js";const rt={"aria-label":fe.string,onClick:fe.func,variant:fe.oneOf(["white"])},Ee=a.forwardRef(({className:e,variant:t,"aria-label":n="Close",...o},s)=>l.jsx("button",{ref:s,type:"button",className:E("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...o}));Ee.displayName="CloseButton";Ee.propTypes=rt;const at=Ee;function it(e){const t=a.useRef(e);return t.current=e,t}function Ae(e){const t=it(e);a.useEffect(()=>()=>t.current(),[])}var P;function xe(e){if((!P&&P!==0||e)&&ee){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),P=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return P}function he(e){e===void 0&&(e=ve());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function lt(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const ke=Je("modal-open");class dt{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return lt(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[o]:s.style[o]},t.scrollBarWidth&&(n[o]=`${parseInt(H(s,o)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(ke,""),H(s,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(ke),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Re=dt,ge=(e,t)=>ee?e==null?(t||ve()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function ct(e,t){const n=ye(),[o,s]=a.useState(()=>ge(e,n==null?void 0:n.document));if(!o){const r=ge(e);r&&s(r)}return a.useEffect(()=>{t&&o&&t(o)},[t,o]),a.useEffect(()=>{const r=ge(e);r!==o&&s(r)},[e,o]),o}function ut({in:e,onTransition:t}){const n=a.useRef(null),o=a.useRef(!0),s=y(t);return we(()=>{if(!n.current)return;let r=!1;return s({in:e,element:n.current,initial:o.current,isStale:()=>r}),()=>{r=!0}},[e,s]),we(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function ft({children:e,in:t,onExited:n,onEntered:o,transition:s}){const[r,f]=a.useState(!t);t&&r&&f(!1);const h=ut({in:!!t,onTransition:u=>{const m=()=>{u.isStale()||(u.in?o==null||o(u.element,u.initial):(f(!0),n==null||n(u.element)))};Promise.resolve(s(u)).then(m,g=>{throw u.in||f(!0),g})}}),v=Se(h,e.ref);return r&&!t?null:a.cloneElement(e,{ref:v})}function Oe(e,t,n){return e?l.jsx(e,Object.assign({},n)):t?l.jsx(ft,Object.assign({},n,{transition:t})):l.jsx(nt,Object.assign({},n))}function ht(e){return e.code==="Escape"||e.keyCode===27}const gt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function mt(e,t){if(e==null)return{};var n={},o=Object.keys(e),s,r;for(r=0;r<o.length;r++)s=o[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let me;function pt(e){return me||(me=new Re({ownerDocument:e==null?void 0:e.document})),me}function vt(e){const t=ye(),n=e||pt(t),o=a.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:a.useCallback(s=>{o.current.dialog=s},[]),setBackdropRef:a.useCallback(s=>{o.current.backdrop=s},[])})}const Le=a.forwardRef((e,t)=>{let{show:n=!1,role:o="dialog",className:s,style:r,children:f,backdrop:h=!0,keyboard:v=!0,onBackdropClick:u,onEscapeKeyDown:m,transition:g,runTransition:b,backdropTransition:te,runBackdropTransition:_,autoFocus:ne=!0,enforceFocus:C=!0,restoreFocus:oe=!0,restoreFocusOptions:se,renderDialog:K,renderBackdrop:re=d=>l.jsx("div",Object.assign({},d)),manager:ae,container:ie,onShow:A,onHide:U=()=>{},onExit:V,onExited:L,onExiting:G,onEnter:z,onEntering:X,onEntered:le}=e,de=mt(e,gt);const R=ye(),N=ct(ie),c=vt(ae),Y=Qe(),F=Ze(n),[T,M]=a.useState(!n),p=a.useRef(null);a.useImperativeHandle(t,()=>c,[c]),ee&&!F&&n&&(p.current=he(R==null?void 0:R.document)),n&&T&&M(!1);const q=y(()=>{if(c.add(),k.current=be(document,"keydown",ue),x.current=be(document,"focus",()=>setTimeout(J),!0),A&&A(),ne){var d,Z;const W=he((d=(Z=c.dialog)==null?void 0:Z.ownerDocument)!=null?d:R==null?void 0:R.document);c.dialog&&W&&!Ce(c.dialog,W)&&(p.current=W,c.dialog.focus())}}),D=y(()=>{if(c.remove(),k.current==null||k.current(),x.current==null||x.current(),oe){var d;(d=p.current)==null||d.focus==null||d.focus(se),p.current=null}});a.useEffect(()=>{!n||!N||q()},[n,N,q]),a.useEffect(()=>{T&&D()},[T,D]),Ae(()=>{D()});const J=y(()=>{if(!C||!Y()||!c.isTopModal())return;const d=he(R==null?void 0:R.document);c.dialog&&d&&!Ce(c.dialog,d)&&c.dialog.focus()}),ce=y(d=>{d.target===d.currentTarget&&(u==null||u(d),h===!0&&U())}),ue=y(d=>{v&&ht(d)&&c.isTopModal()&&(m==null||m(d),d.defaultPrevented||U())}),x=a.useRef(),k=a.useRef(),I=(...d)=>{M(!0),L==null||L(...d)};if(!N)return null;const Q=Object.assign({role:o,ref:c.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},de,{style:r,className:s,tabIndex:-1});let $=K?K(Q):l.jsx("div",Object.assign({},Q,{children:a.cloneElement(f,{role:"document"})}));$=Oe(g,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:V,onExiting:G,onExited:I,onEnter:z,onEntering:X,onEntered:le,children:$});let w=null;return h&&(w=re({ref:c.setBackdropRef,onClick:ce}),w=Oe(te,_,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:w})),l.jsx(l.Fragment,{children:tt.createPortal(l.jsxs(l.Fragment,{children:[w,$]}),N)})});Le.displayName="Modal";const yt=Object.assign(Le,{Manager:Re});function Et(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Rt(e,t){e.classList?e.classList.add(t):Et(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function je(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Mt(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=je(e.className,t):e.setAttribute("class",je(e.className&&e.className.baseVal||"",t))}const S={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Tt extends Re{adjustAndStore(t,n,o){const s=n.style[t];n.dataset[t]=s,H(n,{[t]:`${parseFloat(H(n,t))+o}px`})}restore(t,n){const o=n.dataset[t];o!==void 0&&(delete n.dataset[t],H(n,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Rt(n,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";j(n,S.FIXED_CONTENT).forEach(r=>this.adjustAndStore(o,r,t.scrollBarWidth)),j(n,S.STICKY_CONTENT).forEach(r=>this.adjustAndStore(s,r,-t.scrollBarWidth)),j(n,S.NAVBAR_TOGGLER).forEach(r=>this.adjustAndStore(s,r,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Mt(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";j(n,S.FIXED_CONTENT).forEach(r=>this.restore(o,r)),j(n,S.STICKY_CONTENT).forEach(r=>this.restore(s,r)),j(n,S.NAVBAR_TOGGLER).forEach(r=>this.restore(s,r))}}let pe;function wt(e){return pe||(pe=new Tt(e)),pe}const Fe=a.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},s)=>(t=B(t,"modal-body"),l.jsx(n,{ref:s,className:E(e,t),...o})));Fe.displayName="ModalBody";const bt=Fe,Ct=a.createContext({onHide(){}}),De=Ct,Ie=a.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:o,size:s,fullscreen:r,children:f,scrollable:h,...v},u)=>{e=B(e,"modal");const m=`${e}-dialog`,g=typeof r=="string"?`${e}-fullscreen-${r}`:`${e}-fullscreen`;return l.jsx("div",{...v,ref:u,className:E(m,t,s&&`${e}-${s}`,o&&`${m}-centered`,h&&`${m}-scrollable`,r&&g),children:l.jsx("div",{className:E(`${e}-content`,n),children:f})})});Ie.displayName="ModalDialog";const $e=Ie,We=a.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},s)=>(t=B(t,"modal-footer"),l.jsx(n,{ref:s,className:E(e,t),...o})));We.displayName="ModalFooter";const Nt=We,xt=a.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:o,children:s,...r},f)=>{const h=a.useContext(De),v=y(()=>{h==null||h.onHide(),o==null||o()});return l.jsxs("div",{ref:f,...r,children:[s,n&&l.jsx(at,{"aria-label":e,variant:t,onClick:v})]})}),kt=xt,He=a.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:o=!1,...s},r)=>(e=B(e,"modal-header"),l.jsx(kt,{ref:r,...s,className:E(t,e),closeLabel:n,closeButton:o})));He.displayName="ModalHeader";const Ot=He,jt=st("h4"),_e=a.forwardRef(({className:e,bsPrefix:t,as:n=jt,...o},s)=>(t=B(t,"modal-title"),l.jsx(n,{ref:s,className:E(e,t),...o})));_e.displayName="ModalTitle";const St=_e;function Bt(e){return l.jsx(Be,{...e,timeout:null})}function At(e){return l.jsx(Be,{...e,timeout:null})}const Ke=a.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:o,contentClassName:s,children:r,dialogAs:f=$e,"aria-labelledby":h,"aria-describedby":v,"aria-label":u,show:m=!1,animation:g=!0,backdrop:b=!0,keyboard:te=!0,onEscapeKeyDown:_,onShow:ne,onHide:C,container:oe,autoFocus:se=!0,enforceFocus:K=!0,restoreFocus:re=!0,restoreFocusOptions:ae,onEntered:ie,onExit:A,onExiting:U,onEnter:V,onEntering:L,onExited:G,backdropClassName:z,manager:X,...le},de)=>{const[R,N]=a.useState({}),[c,Y]=a.useState(!1),F=a.useRef(!1),T=a.useRef(!1),M=a.useRef(null),[p,q]=Pe(),D=Se(de,q),J=y(C),ce=qe();e=B(e,"modal");const ue=a.useMemo(()=>({onHide:J}),[J]);function x(){return X||wt({isRTL:ce})}function k(i){if(!ee)return;const O=x().getScrollbarWidth()>0,Te=i.scrollHeight>ve(i).documentElement.clientHeight;N({paddingRight:O&&!Te?xe():void 0,paddingLeft:!O&&Te?xe():void 0})}const I=y(()=>{p&&k(p.dialog)});Ae(()=>{Ne(window,"resize",I),M.current==null||M.current()});const Q=()=>{F.current=!0},$=i=>{F.current&&p&&i.target===p.dialog&&(T.current=!0),F.current=!1},w=()=>{Y(!0),M.current=ot(p.dialog,()=>{Y(!1)})},d=i=>{i.target===i.currentTarget&&w()},Z=i=>{if(b==="static"){d(i);return}if(T.current||i.target!==i.currentTarget){T.current=!1;return}C==null||C()},W=i=>{te?_==null||_(i):(i.preventDefault(),b==="static"&&w())},Ue=(i,O)=>{i&&k(i),V==null||V(i,O)},Ve=i=>{M.current==null||M.current(),A==null||A(i)},Ge=(i,O)=>{L==null||L(i,O),et(window,"resize",I)},ze=i=>{i&&(i.style.display=""),G==null||G(i),Ne(window,"resize",I)},Xe=a.useCallback(i=>l.jsx("div",{...i,className:E(`${e}-backdrop`,z,!g&&"show")}),[g,z,e]),Me={...n,...R};Me.display="block";const Ye=i=>l.jsx("div",{role:"dialog",...i,style:Me,className:E(t,e,c&&`${e}-static`,!g&&"show"),onClick:b?Z:void 0,onMouseUp:$,"aria-label":u,"aria-labelledby":h,"aria-describedby":v,children:l.jsx(f,{...le,onMouseDown:Q,className:o,contentClassName:s,children:r})});return l.jsx(De.Provider,{value:ue,children:l.jsx(yt,{show:m,ref:D,backdrop:b,container:oe,keyboard:!0,autoFocus:se,enforceFocus:K,restoreFocus:re,restoreFocusOptions:ae,onEscapeKeyDown:W,onShow:ne,onHide:C,onEnter:Ue,onEntering:Ge,onEntered:ie,onExit:Ve,onExiting:U,onExited:ze,manager:x(),transition:g?Bt:void 0,backdropTransition:g?At:void 0,renderBackdrop:Xe,renderDialog:Ye})})});Ke.displayName="Modal";const Wt=Object.assign(Ke,{Body:bt,Header:Ot,Title:St,Footer:Nt,Dialog:$e,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{Wt as M};
