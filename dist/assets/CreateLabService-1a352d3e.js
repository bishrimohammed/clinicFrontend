import{d as f,j as e}from"./index-adc5c439.js";import{u as _}from"./index.esm-28bdf91a.js";import{c as N,a as c,f as C,o as S}from"./yup-e734d6e3.js";import{u as F,a as L}from"./useLabService-84113ed5.js";import"./axiosInstance-8e812653.js";import{u as q}from"./useGetUnits-59750a75.js";import{C as k,b}from"./InputGroupContext-86e132d6.js";import{R as m}from"./Row-191556ab.js";import{C as t}from"./Col-cdbc53ce.js";import{F as r}from"./Form-fd32e757.js";import{S as w}from"./index.esm-650f3687.js";import"./useQuery-0c7d53ac.js";import"./useMutation-46d3959e.js";import"./useAxiosHeaders-0302b736.js";import"./ElementChildren-abb33785.js";const G=N().shape({test_name:c().required("lab test name is required"),price:C().transform(i=>isNaN(i)?void 0:i).moreThan(0).required("price is required"),lab_category:c().required("laboratory category is required"),unit:c()}),M=()=>{var p,h,u,x;const{data:i}=F(),{mutate:j,isPending:d}=L(),{data:l}=q(),g=f(),{register:n,handleSubmit:v,formState:{errors:a},watch:R}=_({defaultValues:{test_name:"",price:null,lab_category:""},resolver:S(G)}),y=s=>{console.log(s),j(s)};return console.log(l),e.jsx(k,{className:"p-0",children:e.jsxs("div",{className:" boxshadow borderRadius7px",children:[e.jsx("h5",{className:"p-2 px-3 mt-1 mb-3 bluewhite-bg",children:"Add New Laboratory Service"}),e.jsxs(m,{children:[e.jsx(t,{}),e.jsx(t,{})]}),e.jsxs(r,{onSubmit:v(y),noValidate:!0,className:"p-3",children:[e.jsxs(m,{children:[e.jsx(t,{children:e.jsxs(r.Group,{className:"mb-3",children:[e.jsx(r.Label,{htmlFor:"test_name",children:"Name : "}),e.jsx(r.Control,{type:"text",name:"test_name",id:"test_name",...n("test_name"),placeholder:"Enter Test Name",isInvalid:a.test_name}),e.jsx(r.Control.Feedback,{type:"invalid",children:(p=a.test_name)==null?void 0:p.message})]})}),e.jsx(t,{children:e.jsxs(r.Group,{className:"mb-3",children:[e.jsx(r.Label,{htmlFor:"price",children:"Price : "}),e.jsx(r.Control,{type:"number",name:"price",id:"price",...n("price"),placeholder:"enter price",isInvalid:a.price}),e.jsx(r.Control.Feedback,{type:"invalid",children:(h=a.price)==null?void 0:h.message})]})})]}),e.jsxs(m,{children:[e.jsx(t,{children:e.jsxs(r.Group,{className:"mb-3 ",children:[e.jsx(r.Label,{htmlFor:"lab_category",children:"Lab Category : "}),e.jsxs(r.Select,{id:"lab_category",...n("lab_category"),"aria-label":"Default select example",isInvalid:a.lab_category,children:[e.jsx("option",{value:"",children:"Open this select menu"}),i==null?void 0:i.map((s,o)=>e.jsx("option",{value:s.id,children:s.name},o))]}),e.jsx(r.Control.Feedback,{type:"invalid",children:(u=a.lab_category)==null?void 0:u.message})]})}),e.jsx(t,{children:e.jsxs(r.Group,{className:"mb-3 ",children:[e.jsx(r.Label,{htmlFor:"lab_category",children:" unit "}),e.jsxs(r.Select,{id:"unit",...n("unit"),"aria-label":"Default select example",isInvalid:a.unit,children:[e.jsx("option",{value:"",children:"Select unit"}),l==null?void 0:l.map((s,o)=>e.jsx("option",{value:s.id,children:s.name},o))]}),e.jsx(r.Control.Feedback,{type:"invalid",children:(x=a.unit)==null?void 0:x.message})]})})]}),e.jsx("hr",{}),e.jsx(b,{variant:"danger",type:"button",className:"me-3",onClick:()=>g(-1),children:"Return"}),e.jsxs(b,{variant:"primary",disabled:d,type:"submit",children:[d&&e.jsx(w,{animation:"border",size:"sm"}),"+ Add Service"]})]})]})})};export{M as default};
