import{d as y,j as e}from"./index-adc5c439.js";import{u as v}from"./index.esm-28bdf91a.js";import{c as f,a as c,f as _,o as F}from"./yup-e734d6e3.js";import{A as S}from"./axiosInstance-8e812653.js";import{u as N}from"./useImagingService-42c714bb.js";import{u as C}from"./useGetUnits-59750a75.js";import{u as I}from"./useQuery-0c7d53ac.js";import{A as q}from"./useAxiosHeaders-0302b736.js";import{F as i}from"./Form-fd32e757.js";import{b as h}from"./InputGroupContext-86e132d6.js";import{S as A}from"./index.esm-650f3687.js";import"./useMutation-46d3959e.js";import"./ElementChildren-abb33785.js";import"./Col-cdbc53ce.js";const G=()=>{const t=q();return I({queryKey:["ImagingCategory"],queryFn:async()=>S.get("/service/getImagingServiceCategories",{...t}).then(s=>s.data),staleTime:20*60*1e3})},k=f().shape({test_name:c().required("imaging test name is required"),price:_().transform(t=>isNaN(t)?void 0:t).moreThan(0).required("price is required"),imaging_category:c().required("imaging category is required"),unit:c()}),Q=()=>{var d,g,p,u;const{mutate:t,isPending:s}=N(),{data:m}=C(),{data:o}=G(),x=y(),{register:n,handleSubmit:j,formState:{errors:r}}=v({defaultValues:{test_name:"",price:null,imaging_category:""},resolver:F(k)}),b=a=>{t(a)};return e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"p-2 mt-1 mb-3 bluewhite-bg",children:"Add New Imaging Studies Service"}),e.jsx("div",{className:"p-3 boxshadow borderRadius7px",children:e.jsxs(i,{onSubmit:j(b),noValidate:!0,className:"",children:[e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{htmlFor:"test_name",children:"Name : "}),e.jsx(i.Control,{type:"text",name:"test_name",id:"test_name",...n("test_name"),placeholder:"Enter Test Name",isInvalid:r.test_name}),e.jsx(i.Control.Feedback,{type:"invalid",children:(d=r.test_name)==null?void 0:d.message})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{htmlFor:"price",children:"Price : "}),e.jsx(i.Control,{type:"number",name:"price",id:"price",...n("price"),placeholder:"enter price",isInvalid:r.price}),e.jsx(i.Control.Feedback,{type:"invalid",children:(g=r.price)==null?void 0:g.message})]}),e.jsxs(i.Group,{children:[e.jsxs(i.Label,{htmlFor:"imaging_category",children:["imaging Category :"," "]}),e.jsxs(i.Select,{id:"imaging_category",...n("imaging_category"),"aria-label":"Default select example",isInvalid:r.imaging_category,children:[e.jsx("option",{value:"",children:"Open this select menu"}),o==null?void 0:o.map((a,l)=>e.jsx("option",{value:a.id,children:a.name},l))]}),e.jsx(i.Control.Feedback,{type:"invalid",children:(p=r.imaging_category)==null?void 0:p.message})]}),e.jsx(e.Fragment,{children:e.jsxs(i.Group,{className:"mb-3 ",children:[e.jsx(i.Label,{htmlFor:"lab_category",children:" unit "}),e.jsxs(i.Select,{id:"unit",...n("unit"),"aria-label":"Default select example",isInvalid:r.unit,children:[e.jsx("option",{value:"",children:"Select unit"}),m==null?void 0:m.map((a,l)=>e.jsx("option",{value:a.id,children:a.name},l))]}),e.jsx(i.Control.Feedback,{type:"invalid",children:(u=r.unit)==null?void 0:u.message})]})}),e.jsx("hr",{}),e.jsx(h,{variant:"danger",type:"button",className:"me-3",onClick:()=>x(-1),children:"Return"}),e.jsxs(h,{variant:"primary",disabled:s,type:"submit",children:[s&&e.jsx(A,{animation:"border",size:"sm"}),"+ Add Service"]})]})})]})};export{Q as default};
